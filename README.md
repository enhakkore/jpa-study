# jpa-study
> [자바 ORM 표준 JPA 프로그래밍](https://book.naver.com/bookdb/book_detail.nhn?bid=9252528)  

## ch01  
* 데이터베이스는 객체 구조와는 다른 데이터 중심의 구조를 가지므로 객체를 데이터베이스에 직접 저장하거나 조회할 수 없다. 따라서 개발자가 객체지향 애플리케이션과 데이터베이스 중간에서 SQL과 JDBC API를 사용해서 변환 작업을 해주어야 한다. 이때 데이터베이스에 객체를 CRUD하려면 너무 많은 SQL과 JDBC API를 코드로 작성해야한다. 테이블이 100개라면 데이터 접근 계층(DAO)을 개발하는 일을 100번 더 반복해야 한다.  
*  너무 많은 반복이 발생하는 것 외에도 SQL을 직접 다루면 아래와 같은 문제점이 발생한다.  
    * **진정한 의미의 계층 분할이 어렵다.**  
        물리적으로 SQL과 JDBC API를 데이터 접근 계층에 숨기는 데 성공했을 수 있지만 논리적으로 엔티티와 강한 의존관계를 가지고 있다. 테이블에 필드 하나만 추가해도 DAO의 CRUD 코드와 SQL 대부분을 변경해야 하기 때문이다.  
    * **엔티티를 신뢰할 수 없다.**  
        처음 설계한 이후에 엔티티의 수정이 이루어지면 DAO를 열어서 어떤 SQL이 실행되고 어떤 객체들이 함께 조회되는지 일일이 확인해야하기 때문이다.  
    * **SQL에 의존적인 개발을 피하기 어렵다.**  
        새롭게 추가된 객체 등 수정여부가 제대로 반영되는지에 대한 여부는 전적으로 SQL에 달려있기 때문이다.  
* **엔티티**란? 비지니스 요구사항을 모델링한 객체를 말한다.  
* JPA를 사용하면 객체를 데이터베이스에 저장할 때, 개발자가 직접 SQL을 작성하는 것이 아니라 JPA가 제공하는 API를 사용하면 된다. 그러면 JPA가 적절한 SQL을 생성해서 데이터베이스에 전달한다.  
* **패러다임 불일치**  
    객체지향 프로그래밍은 추상화, 캡슐화, 정보은닉, 상속, 다형성 등과 같은 개념을 통해 시스템의 복잡성을 제어할 수 있는 다양한 장치들을 제공한다. 관계형 데이터베이스는 데이터 중심으로 구조화되어 있고 집합적인 사고를 요구하며 객체지향에서 말하는 개념들이 없다. 객체와 관계형 데이터베이스는 지향하는 목적이 서로 다르므로 둘의 기능과 표현 방법도 다르다. 이것을 객체와 관계형 데이터베이스의 패러다임 불일치 문제라고 한다. 따라서 객체 구조를 테이블 구조에 저장하는데 한계가 있다.  
* **JPA**<sub>Java Persistence API</sub>란?  
    자바 진영의 ORM 기술 표준이다. 애플리케이션과 JDBC 사이에서 작동한다.  
    ORM<sub>Object-Relational Mapping</sub> 프레임워크는 객체와 관계형 데이터베이스를 매핑하여 패러다임 불일치 문제를 개발자 대신 해결해준다. 예를 들어 객체를 데이터베이스에 저장할 때 SQL문을 직접 작성하는 것이 아니라 ORM 프레임워크에 객체를 저장하면 된다.  
    객체지향 언어에는 대부분 ORM 프레임워크들이 있는데 자바 진영에서는 하이버네이트가 많이 사용된다.  

    * 객체를 저장할 때 JPA가 하는 일  
        Entity 분석, INSERT SQL 생성, JDBC API 사용, 패러다임 불일치 해결  
    * 객체를 조회할 때 JPA가 하는 일  
        SELECT SQL 생성, JDBC API 사용, ResultSet 매핑, 패러다임 불일치 해결  
* **Hibernate**란?  
    자바 ORM 기술에 대한 API 표준 명세를 구현한 ORM 프레임워크.  
* JPA를 사용해야하는 이유  
    1. 생산성 향상  
        SQL문을 만들고 JDBC API를 사용하는 반복적인 일들을 JPA가 대신 처리해준다.  
    2. 유지보수  
        SQL문제 의존적일 때 엔티티에 변경 사항이 발생하면 영향을 받는 SQL문들을 전부 수정해야한다. JPA를 사용하면 이런일들을 대신 처리하기 때문에 유지보수해야할 코드 수가 줄어든다.  
    3. 패러다임 불일치 해결  
        JPA는 상속, 연관관계, 객체 그래프 탐색, 비교하기와 같은 패러다임 불일치 문제를 해결한다.  
    4. 성능  
        JPA는 애플리케이션과 데이터베이스 사이에서 동작하기 때문에 최적환 관점에서 시도해 볼 수 있는 것들이 많다. 예를 들어 같은 회원을 두번 조회하는 코드가 있다면 첫 번째 조회할 때만 SQL문을 데이터베이스에 전달하고 두 번째는 조회한 객체를 재사용한다.  
    5. 데이터 접근 추상화와 벤더 독립성  
        애플리케이션과 데이터베이스 사이에 추상화된 데이터 접근 계층을 제공해서 애플리케이션이 특정 데이터베이스에 종속되지 않도록 한다.  
    6. 표준  
        JPA는 자바 진영의 ORM 기술 표준이다. 표준을 사용하면 다른 구현 기술로 손쉽게 변경할 수 있다.
